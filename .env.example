# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
CLERK_SECRET_KEY=your-clerk-secret-key
CLERK_WEBHOOK_SECRET=your-clerk-webhook-secret

# Clerk URLs (optional - auto-configured)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# Redis (Upstash for caching - optional)
# UPSTASH_REDIS_URL=
# UPSTASH_REDIS_TOKEN=

# API Base URL
NEXT_PUBLIC_API_URL=http://localhost:3000

# DeepSeek LLM (for AI scanner and backend crews)
DEEPSEEK_API_KEY=your-deepseek-api-key-here

# Phoenix Observability (for backend scanner crew)
PHOENIX_AUTO_START=true
# PHOENIX_API_KEY=your-phoenix-cloud-api-key
# PHOENIX_COLLECTOR_ENDPOINT=https://app.phoenix.arize.com

# Scanner Backend
SCANNER_BACKEND_URL=http://localhost:8000

# Twilio WhatsApp (for applicant notifications)
TWILIO_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_WHATSAPP_NUMBER=whatsapp:+14155238886

# Optional: Analytics
# NEXT_PUBLIC_PHOENIX_API_KEY=

# =============================================================================
# Policy RAG Search Configuration
# =============================================================================
# Controls the search strategy for policy queries (keyword vs semantic)

# Primary search method: "keyword" | "semantic" | "hybrid"
# - keyword: Fast full-text search (<100ms), best for simple queries
# - semantic: Vector similarity search (~350ms), best for complex queries
# - hybrid: Combines both using Reciprocal Rank Fusion
POLICY_PRIMARY_SEARCH=keyword

# Enable semantic search fallback when keyword returns too few results
# Set to "false" to disable fallback and use primary search only
POLICY_SEMANTIC_FALLBACK=true

# Minimum keyword search results before triggering semantic fallback
KEYWORD_MIN_RESULTS=2

# Query complexity threshold (0-1) for routing to semantic search
# Queries scoring above this are considered complex and routed accordingly
COMPLEXITY_SEMANTIC_THRESHOLD=0.5

# Latency threshold (ms) for logging slow searches
SEARCH_LATENCY_LOG_THRESHOLD_MS=100

# =============================================================================
# Tiered Document Validation (Vision Tools)
# =============================================================================
# Cost optimization: Routes documents through rule-based checks first, then
# DeepSeek Vision ($0.01), then GPT-4V ($0.08) only when needed.
# Target: Reduce average cost from $0.08 to $0.02 per document (75% savings)

# Enable Tier 1 rule-based validation (file format, size, magic bytes)
# Set to "false" to skip rule-based checks and go directly to AI vision
TIER1_VALIDATION_ENABLED=true

# Provider for Tier 2 vision analysis: "deepseek" | "openai"
# DeepSeek is 8x cheaper than OpenAI GPT-4V
TIER2_PROVIDER=deepseek

# Confidence thresholds for tier routing (0.0 - 1.0)
# Documents scoring >= TIER1 are approved by rule-based validation
# Documents scoring >= TIER2 are sent to DeepSeek Vision
# Documents scoring < TIER2 are sent to GPT-4V (most expensive)
VISION_CONFIDENCE_TIER1=0.85
VISION_CONFIDENCE_TIER2=0.60

# Master switch to enable/disable the entire tiered validation system
# Set to "false" to use GPT-4V directly for all documents (legacy behavior)
TIERED_VALIDATION_ENABLED=true

# OpenAI API key for GPT-4V (Tier 3 fallback)
# OPENAI_API_KEY=your-openai-api-key-here
